1. تهيئة SPI:
الهدف: تهيئة واجهة SPI للتواصل مع قارئ RC522.

الوظيفة:

يتم تعيين دبابيس SPI (MOSI, SCK, SS) كمخرجات ودبوس MISO كمدخل.

يتم تمكين SPI في وضع Master مع معدل ساعة Fosc/16.

2. إرسال واستقبال البيانات عبر SPI:
الهدف: إرسال واستقبال البيانات بين ATmega2560 و RC522.

الوظيفة:

يتم إرسال بايت واحد عبر SPI وانتظار اكتمال الإرسال، ثم يتم إرجاع البيانات المستلمة.

3. تهيئة RC522:
الهدف: تهيئة قارئ RC522 للعمل.

الوظيفة:

يتم كتابة قيم محددة في تسجيلات RC522 لتهيئته للعمل.

4. البحث عن البطاقة:
الهدف: البحث عن وجود بطاقة RFID بالقرب من القارئ.

الوظيفة:

يتم إرسال أمر Request إلى RC522 والتحقق من وجود بطاقة.

5. قراءة UID البطاقة:
الهدف: قراءة المعرف الفريد (UID) للبطاقة.

الوظيفة:

يتم البحث عن البطاقة وقراءة UID الخاص بها.

6. مقارنة UID مع القائمة المعتمدة:
الهدف: التحقق من صلاحية البطاقة.

الوظيفة:

يتم مقارنة UID المقروء مع قائمة UID معتمدة. إذا كان UID مطابقًا، يتم اعتبار البطاقة مقبولة.

7. العرض على الشاشة:
الهدف: عرض نتيجة القراءة (مقبولة/غير مقبولة).

الوظيفة:

يتم عرض النتيجة على شاشة LCD أو إرسالها عبر UART إلى الهاتف.
